<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/css/bootstrap.css"> 
        <link rel="stylesheet" type="text/css" href="layoutdaftarnilai.css">        
        <link rel="icon" href="img/logoby2.svg"/>

        <!-- Font Awesome -->   
        <link rel="stylesheet" type="text/css" href="assets/fontawesome/css/all.min.css">   

        <!-- CDN jquery (with ajax) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

		<title>Nilai Evaluasi</title>
	</head>

	<body>
		<!-- Konten -->
		<div class="container-fluid">
		<div class="row">
			<!-- Sidebar -->
			<div class="col-sm-2 col-md-2 sidebar"><h4 class="judulside"><b>Dashboard Guru</b></h4>

				<div class="menuside">
					<ul class="navbar-nav">
						<li class="nav-item">
						<a style="padding-left: 10%;" class="nav-link" href="nilai_coba1.html">Latihan Sub Bab 1</a></li>

						<li class="nav-item">
						<a style="padding-left: 10%;" class="nav-link" href="#">Latihan Sub Bab 2</a></li>

						<li class="nav-item">
						<a style="padding-left: 10%;" class="nav-link" href="#">Latihan Sub Bab 3</a></li>
						
						<li class="nav-item">
						<a style="padding-left: 10%;" class="nav-link" href="#">Latihan Sub Bab 4</a></li>
						
						<li class="nav-item">
						<a style="padding-left: 10%;" class="nav-link" href="#">Latihan Sub Bab 5</a></li>

						<li class="nav-item">
						<a style="padding-left: 10%;" class="nav-link active" href="nilai_evaluasi.html">Evaluasi</a></li>				
					</ul>
				</div>		

				<div class="logout">
					<ul class="navbar-nav">
						<li class="nav-item">
						<a style="padding-left: 10%;" class="nav-link" href="#">Logout</a></li>
					</ul>
				</div>
			</div>	

			<div class="col-sm-10 col-md-10 daftarnilai">
				<div class="card tabelnilai">
					<div class="header"><h5>Dafar Nilai Siswa</h5></div>
					<table>
						<thead>
							<tr>
								<th>No.</th>
								<th>Nama Siswa</th>
								<th>Kelas</th>
								<th>Nilai</th>
								<th>Keterangan</th>								
								<th>Waktu</th>								
							</tr>
						</thead>							
						<tbody class="hasilDetail">
						</tbody>
					</table>
				</div>
			</div>

		</div>
		</div>


    <!-- JQuery -->
    <script src="assets/jquery-3.3.1.min.js"></script>
    
    <!-- Bootstrap -->  
    <script src="assets/js/bootstrap.min.js"></script>

    <!-- Sisipan Javascript -->
	<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-analytics.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>

	<script>      
	var firebaseConfig = {
	  apiKey: "AIzaSyAsQsejibLhoUqNwMAB2VS-ZaOyyASjTHI",
	  authDomain: "belajaryuk-2e6eb.firebaseapp.com",
	  databaseURL: "https://belajaryuk-2e6eb-default-rtdb.firebaseio.com",
	  projectId: "belajaryuk-2e6eb",
	  storageBucket: "belajaryuk-2e6eb.appspot.com",
	  messagingSenderId: "584931503788",
	  appId: "1:584931503788:web:3d4e3793a4767258473909"
	  };

	// Initialize Firebase
	firebase.initializeApp(firebaseConfig);

	var database = firebase.database();
	database = firebase.database();

	    var ref = database.ref("evaluasi");
	    var idx = 0;

	    let rc = document.querySelector('.hasilDetail');

	    ref.on("child_added", function (data) {
	        idx += 1;

	        var dataSiswa = data.val();
	        rc.innerHTML +=
	            `<tr>
					<td class="tdX" style="text-align: center">${idx}</td>
					<td class="tdX">${dataSiswa.namaS}</td>
					<td class="tdX" style="text-align: center">${dataSiswa.kelasS}</td>
					<td class="tdX" style="text-align: center">${dataSiswa.nilai}</td>
					<td class="tdX" style="text-align: center">${dataSiswa.keterangan}</td>
					<td class="tdX" style="text-align: center">${dataSiswa.waktu}</td>
				</tr>`;
	    })

	</script>

	</body>
</html>